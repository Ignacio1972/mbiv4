/**
 * dashboard.css - Estilos específicos para Dashboard v2
 * Importa las variables globales y añade estilos propios del dashboard
 */

/* Importar variables del sistema de diseño */
@import url('/assets/styles/core/variables.css');

/* ========================================
   HEADER CON DROPDOWN DE CATEGORÍA
   ======================================== */

.create-message .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.create-message .card-title {
    margin: 0;
    flex: 1;
}

.create-message .category-badge-container {
    position: relative;
}

/* ========================================
   GRID PRINCIPAL
   ======================================== */

/* Grid de 2 columnas limpio */
.dashboard-grid,
div.dashboard-grid {
    display: grid !important;
    grid-template-columns: 1.5fr 1fr !important; /* Columna 1 (Generador) más ancha (60%), Columna 2 (Mensajes recientes) más angosta (40%) */
    grid-template-rows: auto auto !important;
    gap: var(--space-lg) !important;
    margin-top: var(--space-xl);
    max-width: 100% !important;
}

/* Layout de 4 cards */
.create-message {
    grid-column: 1;
    grid-row: 1;
    width: 100%;
}

.controls-section {
    grid-column: 1;
    grid-row: 2;
    width: 100%;
}

.quota-section {
    grid-column: 2;
    grid-row: 2;
    width: 100%;
}

/* Asegurar que los cards usen todo el ancho disponible */
.dashboard-grid .card {
    width: 100%;
    box-sizing: border-box;
    padding: var(--space-lg);
    margin: 0;
}

/* Columna derecha: Mensajes recientes (ambas filas) */
.recent-messages {
    grid-column: 2;
    grid-row: 1 / 3; /* Ocupar ambas filas (1 y 2) */
    width: 100%;
    min-width: 0; /* Prevenir que el contenido expanda la columna */
    overflow: hidden; /* Evitar desbordamiento */
    display: flex;
    flex-direction: column;
}

/* ========================================
   MENSAJES RECIENTES - Estilos específicos
   ======================================== */

.message-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    overflow-y: auto;
    max-height: calc(100vh - 250px);
    padding: var(--space-md);
}

.message-item {
    background: var(--bg-tertiary);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    border: 1px solid var(--border-color);
    transition: all 0.2s;
    cursor: pointer;
}

.message-item:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.message-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-sm);
    gap: var(--space-sm);
}

.message-title {
    font-weight: 600;
    color: var(--text-primary);
    font-size: 0.9rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 60%;
}

.message-preview {
    color: var(--text-secondary);
    font-size: 0.85rem;
    line-height: 1.4;
    margin-bottom: var(--space-sm);
    
    /* Crítico: prevenir expansión */
    word-break: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    
    /* Limitar a 2 líneas */
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

.message-footer {
    display: flex;
    justify-content: flex-end;
}

.message-actions {
    display: flex;
    gap: var(--space-xs);
}

/* ========================================
   CONTROLES Y CHART
   ======================================== */

.controls-chart-container {
    display: flex;
    gap: var(--space-lg);
    padding: 0;
    align-items: flex-start;
    width: 100%;
    box-sizing: border-box;
}

.controls-area {
    flex: 3;
}

.chart-area {
    flex: 2; /* Aumentado de 1 a 2 para equilibrar */
    min-width: 200px;
}
    padding: var(--space-lg);
    background: var(--bg-tertiary);
    border-radius: var(--radius-lg);
    text-align: center;
}

.controls-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-lg);
}

.control-value {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--text-primary);
    background: var(--bg-tertiary);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
}

/* ========================================
   LISTA DE MENSAJES
   ======================================== */

/* ELIMINADO - Conflicto con estilos de message-list arriba
.message-list {
    Ya está definido correctamente en línea 86-93
} */


/* ========================================
   BADGES DE CATEGORÍAS
   ======================================== */

.badge-ofertas { background: #10b981; color: white; }
.badge-eventos { background: #8b5cf6; color: white; }
.badge-informacion { background: #0891b2; color: white; }
.badge-servicios { background: #f59e0b; color: white; }
.badge-horarios { background: #6366f1; color: white; }
.badge-emergencias { background: #dc2626; color: white; }
.badge-sin-categoria { background: var(--gray-500); color: white; }

/* ========================================
   FORM ACTIONS INLINE
   ======================================== */

.form-actions-inline {
    display: flex;
    align-items: flex-end;
    gap: var(--space-md);
    justify-content: flex-end; /* Alinear a la derecha */
    margin-top: var(--space-md);
}

.voice-selector {
    display: flex;
    flex-direction: column;
    min-width: 200px; /* Ancho mínimo para el selector */
}

.voice-selector .form-label {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-secondary);
    margin-bottom: var(--space-xs);
}

.voice-selector .form-select {
    height: 44px; /* Mismo alto que el botón */
    padding: 0 var(--space-md);
    font-size: 1rem; /* Más grande, consistente con Campaign Library */
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    color: var(--text-primary);
}

.form-actions-inline .btn {
    height: 44px; /* Altura fija para el botón */
    padding: 0 var(--space-lg);
    font-size: 1rem; /* Más grande para mejor legibilidad */
    white-space: nowrap;
    flex-shrink: 0;
}

/* ========================================
   TÍTULOS Y TEXTO GENERAL
   ======================================== */

/* Títulos de cards - similar a Campaign Library */
.card-title {
    font-size: 1.25rem !important;
    font-weight: 600;
    color: var(--text-primary);
}

/* Texto general más grande */
.form-label {
    font-size: 1rem !important;
    font-weight: 500;
    color: var(--text-secondary);
}

/* Controls labels */
.control-label {
    font-size: 1rem !important;
    font-weight: 500;
}

/* ========================================
   TEXTAREA DE MENSAJE
   ======================================== */

#messageText {
    height: 300px !important;
    resize: vertical;
    font-size: 1.5rem !important; /* Texto muy grande para máxima legibilidad */
    line-height: 1.6;
    padding: var(--space-lg) !important;
    font-weight: 400;
    letter-spacing: 0.02em; /* Mejor espaciado entre letras */
}

/* ========================================
   BOTONES DE ACCIÓN
   ======================================== */

.btn-save:hover {
    background: #10b981 !important;
    color: white !important;
    border-color: #10b981 !important;
}

.btn-delete:hover {
    background: #dc2626 !important;
    color: white !important;
    border-color: #dc2626 !important;
}

.btn-save, .btn-delete {
    transition: all 0.2s ease;
}

/* ========================================
   RESPONSIVE
   ======================================== */

@media (max-width: 1024px) {
    .controls-chart-container {
        flex-direction: column;
    }
    
    .controls-area,
    .chart-area {
        width: 100%;
    }
    
    /* Comentado - message-list usa flex, no grid
    .message-list {
        grid-template-columns: 1fr;
    } */
}

@media (max-width: 768px) {
    /* Cambiar a una sola columna en móviles */
    .dashboard-grid {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
        gap: var(--space-md);
    }
    
    .create-message {
        grid-column: 1;
        grid-row: 1;
    }
    
    .controls-section {
        grid-column: 1;
        grid-row: 2;
    }
    
    .recent-messages {
        grid-column: 1;
        grid-row: 3;
    }
    
    .controls-chart-container {
        padding: var(--space-md);
    }
}
/* Agregar al final del archivo */
.form-label {
    display: block;
    margin-bottom: var(--space-xs);
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-secondary);
}

#categorySelect {
    margin-top: 0;
}

/* Indicador visual de categoría seleccionada */
#categorySelect:has(option[value="ofertas"]:checked) {
    border-left: 3px solid #10b981;
}
#categorySelect:has(option[value="eventos"]:checked) {
    border-left: 3px solid #8b5cf6;
}
#categorySelect:has(option[value="informacion"]:checked) {
    border-left: 3px solid #0891b2;
}
#categorySelect:has(option[value="servicios"]:checked) {
    border-left: 3px solid #f59e0b;
}
#categorySelect:has(option[value="horarios"]:checked) {
    border-left: 3px solid #6366f1;
}
#categorySelect:has(option[value="emergencias"]:checked) {
    border-left: 3px solid #dc2626;
}