/**
 * CONTAINERS.CSS - MBI v3 System
 * =================================
 * Responsive container system with max-widths and breakpoints
 * Provides consistent content width and spacing across the application
 * 
 * @version: 1.0.0
 */

/* Import variables */
@import url('../core/variables.css');

/* ========================================
   BASE CONTAINER
   ======================================== */

.container {
  /* Structure */
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  
  /* Spacing */
  padding-left: var(--space-4);
  padding-right: var(--space-4);
  
  /* Max width */
  max-width: var(--container-max-width);
}

/* ========================================
   CONTAINER SIZES
   ======================================== */

/* Extra Small - Mobile focused */
.container--xs {
  max-width: var(--screen-xs);
}

/* Small - Mobile large */
.container--sm {
  max-width: var(--screen-sm);
}

/* Medium - Tablet */
.container--md {
  max-width: var(--screen-md);
}

/* Large - Desktop */
.container--lg {
  max-width: var(--screen-lg);
}

/* Extra Large - Desktop large */
.container--xl {
  max-width: var(--screen-xl);
}

/* 2X Large - Wide screens */
.container--2xl {
  max-width: var(--screen-2xl);
}

/* Full width - No max-width */
.container--full {
  max-width: 100%;
}

/* Fluid - Always 100% width */
.container--fluid {
  max-width: none;
  width: 100%;
}

/* ========================================
   RESPONSIVE CONTAINERS
   ======================================== */

/* Responsive container - adjusts max-width at breakpoints */
.container--responsive {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--space-4);
  padding-right: var(--space-4);
}

/* Mobile */
@media (min-width: 480px) {
  .container--responsive {
    max-width: var(--screen-xs);
  }
}

/* Mobile large */
@media (min-width: 640px) {
  .container--responsive {
    max-width: var(--screen-sm);
    padding-left: var(--space-5);
    padding-right: var(--space-5);
  }
}

/* Tablet */
@media (min-width: 768px) {
  .container--responsive {
    max-width: var(--screen-md);
    padding-left: var(--space-6);
    padding-right: var(--space-6);
  }
}

/* Desktop */
@media (min-width: 1024px) {
  .container--responsive {
    max-width: var(--screen-lg);
  }
}

/* Desktop large */
@media (min-width: 1200px) {
  .container--responsive {
    max-width: var(--screen-xl);
    padding-left: var(--space-8);
    padding-right: var(--space-8);
  }
}

/* Desktop extra large */
@media (min-width: 1400px) {
  .container--responsive {
    max-width: var(--screen-2xl);
  }
}

/* ========================================
   CONTAINER PADDING VARIANTS
   ======================================== */

/* No padding */
.container--no-padding {
  padding-left: 0;
  padding-right: 0;
}

/* Small padding */
.container--padding-sm {
  padding-left: var(--space-2);
  padding-right: var(--space-2);
}

/* Medium padding (default) */
.container--padding-md {
  padding-left: var(--space-4);
  padding-right: var(--space-4);
}

/* Large padding */
.container--padding-lg {
  padding-left: var(--space-6);
  padding-right: var(--space-6);
}

/* Extra large padding */
.container--padding-xl {
  padding-left: var(--space-8);
  padding-right: var(--space-8);
}

/* Vertical padding */
.container--padding-y {
  padding-top: var(--space-6);
  padding-bottom: var(--space-6);
}

.container--padding-y-sm {
  padding-top: var(--space-4);
  padding-bottom: var(--space-4);
}

.container--padding-y-lg {
  padding-top: var(--space-8);
  padding-bottom: var(--space-8);
}

.container--padding-y-xl {
  padding-top: var(--space-12);
  padding-bottom: var(--space-12);
}

/* ========================================
   NESTED CONTAINERS
   ======================================== */

/* Remove padding for nested containers */
.container .container {
  padding-left: 0;
  padding-right: 0;
}

/* Nested with spacing */
.container--nested {
  padding-left: 0;
  padding-right: 0;
  margin-left: calc(var(--space-4) * -1);
  margin-right: calc(var(--space-4) * -1);
  width: calc(100% + (var(--space-4) * 2));
}

/* ========================================
   SECTION CONTAINERS
   ======================================== */

.section-container {
  /* Structure */
  width: 100%;
  
  /* Spacing */
  padding: var(--space-12) var(--space-4);
  
  /* Visual */
  position: relative;
}

/* Section sizes */
.section-container--sm {
  padding: var(--space-8) var(--space-4);
}

.section-container--lg {
  padding: var(--space-16) var(--space-4);
}

.section-container--xl {
  padding: var(--space-20) var(--space-4);
}

/* Section with background */
.section-container--bg-primary {
  background: var(--bg-primary);
}

.section-container--bg-secondary {
  background: var(--bg-secondary);
}

.section-container--bg-tertiary {
  background: var(--bg-tertiary);
}

/* Section with border */
.section-container--bordered {
  border-top: 1px solid var(--border-default);
  border-bottom: 1px solid var(--border-default);
}

/* ========================================
   CONTENT CONTAINERS
   ======================================== */

.content-container {
  /* Optimized for readability */
  max-width: 65ch;
  margin-left: auto;
  margin-right: auto;
  padding: var(--space-6);
}

.content-container--wide {
  max-width: 90ch;
}

.content-container--narrow {
  max-width: 45ch;
}

/* Article container */
.article-container {
  max-width: 720px;
  margin-left: auto;
  margin-right: auto;
  padding: var(--space-8) var(--space-4);
  line-height: var(--leading-relaxed);
}

/* ========================================
   WRAPPER CONTAINERS
   ======================================== */

.wrapper {
  /* Simple wrapper without max-width */
  padding: var(--space-4);
}

.wrapper--tight {
  padding: var(--space-2);
}

.wrapper--loose {
  padding: var(--space-8);
}

/* Page wrapper */
.page-wrapper {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.page-wrapper__content {
  flex: 1;
}

/* ========================================
   APP LAYOUT CONTAINERS
   ======================================== */

/* Main app container */
.app-container {
  display: flex;
  min-height: 100vh;
  background: var(--bg-primary);
}

/* Sidebar container */
.sidebar-container {
  width: var(--sidebar-width);
  flex-shrink: 0;
  background: var(--bg-secondary);
  border-right: 1px solid var(--border-default);
  overflow-y: auto;
}

/* Main content container */
.main-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0; /* Prevent flex item from growing beyond parent */
}

/* Header container */
.header-container {
  height: var(--header-height);
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border-default);
  position: sticky;
  top: 0;
  z-index: var(--z-sticky);
}

/* Content area */
.content-area {
  flex: 1;
  padding: var(--space-6);
  overflow-y: auto;
}

/* ========================================
   MODAL CONTAINERS
   ======================================== */

.modal-container {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: var(--modal-width-md);
  max-height: 90vh;
  overflow-y: auto;
  z-index: var(--z-modal);
}

.modal-container--sm {
  max-width: var(--modal-width-sm);
}

.modal-container--lg {
  max-width: var(--modal-width-lg);
}

.modal-container--xl {
  max-width: var(--modal-width-xl);
}

.modal-container--fullscreen {
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  top: 0;
  left: 0;
  transform: none;
}

/* ========================================
   CARD CONTAINERS
   ======================================== */

.card-container {
  background: var(--bg-secondary);
  border-radius: var(--card-radius);
  padding: var(--card-padding);
  box-shadow: var(--card-shadow);
}

.card-container--compact {
  padding: var(--space-3);
}

.card-container--spacious {
  padding: var(--space-8);
}

/* ========================================
   RESPONSIVE UTILITIES
   ======================================== */

/* Hide overflow on small screens */
@media (max-width: 640px) {
  .container--hide-overflow-mobile {
    overflow-x: hidden;
  }
}

/* Responsive padding adjustments */
@media (max-width: 640px) {
  .container,
  .container--responsive {
    padding-left: var(--space-3);
    padding-right: var(--space-3);
  }
  
  .section-container {
    padding: var(--space-8) var(--space-3);
  }
  
  .content-area {
    padding: var(--space-4);
  }
}

@media (min-width: 641px) and (max-width: 1024px) {
  .container,
  .container--responsive {
    padding-left: var(--space-5);
    padding-right: var(--space-5);
  }
}

/* ========================================
   SCROLLABLE CONTAINERS
   ======================================== */

.scrollable-container {
  overflow-y: auto;
  max-height: 100%;
  
  /* Custom scrollbar for Webkit browsers */
  scrollbar-width: thin;
  scrollbar-color: var(--gray-600) var(--bg-tertiary);
}

.scrollable-container::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.scrollable-container::-webkit-scrollbar-track {
  background: var(--bg-tertiary);
  border-radius: var(--radius-sm);
}

.scrollable-container::-webkit-scrollbar-thumb {
  background: var(--gray-600);
  border-radius: var(--radius-sm);
}

.scrollable-container::-webkit-scrollbar-thumb:hover {
  background: var(--gray-500);
}

/* Horizontal scroll container */
.scroll-container-x {
  overflow-x: auto;
  overflow-y: hidden;
  white-space: nowrap;
  -webkit-overflow-scrolling: touch;
}

/* ========================================
   CENTERED CONTAINERS
   ======================================== */

.center-container {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: var(--space-4);
}

.center-container__content {
  width: 100%;
  max-width: var(--modal-width-md);
}

/* ========================================
   STICKY CONTAINERS
   ======================================== */

.sticky-container {
  position: sticky;
  top: 0;
  z-index: var(--z-sticky);
  background: var(--bg-primary);
}

.sticky-container--top {
  top: 0;
}

.sticky-container--bottom {
  bottom: 0;
  top: auto;
}

.sticky-container--with-header {
  top: var(--header-height);
}

/* ========================================
   ASPECT RATIO CONTAINERS
   ======================================== */

.aspect-container {
  position: relative;
  width: 100%;
}

.aspect-container--16-9 {
  padding-bottom: 56.25%; /* 16:9 */
}

.aspect-container--4-3 {
  padding-bottom: 75%; /* 4:3 */
}

.aspect-container--1-1 {
  padding-bottom: 100%; /* 1:1 */
}

.aspect-container--21-9 {
  padding-bottom: 42.85%; /* 21:9 */
}

.aspect-container__content {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* ========================================
   PRINT CONTAINERS
   ======================================== */

@media print {
  .container,
  .container--responsive {
    max-width: 100%;
    padding: 0;
  }
  
  .no-print-container {
    display: none;
  }
  
  .print-container {
    max-width: 100%;
    margin: 0;
    padding: 0;
  }
}

/* ========================================
   ACCESSIBILITY
   ======================================== */

/* Skip to content container */
.skip-container {
  position: absolute;
  top: -9999px;
  left: -9999px;
  z-index: var(--z-max);
}

.skip-container:focus {
  position: fixed;
  top: var(--space-4);
  left: var(--space-4);
  padding: var(--space-3) var(--space-4);
  background: var(--color-primary);
  color: var(--text-inverse);
  border-radius: var(--radius-md);
  text-decoration: none;
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .container,
  .section-container,
  .card-container {
    border: 1px solid var(--border-default);
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .modal-container {
    transition: none;
  }
}